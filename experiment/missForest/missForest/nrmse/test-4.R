library(testthat)

.Random.seed <<- .ext.seed

test_that("nrmse", {
    xtrue <- structure(list(Sepal.Length = c(5.1, 4.9, 4.7, 4.6, 5, 5.4, 4.6, 5, 4.4, 4.9, 5.4, 4.8, 4.8, 4.3, 5.8, 5.7, 
        5.4, 5.1, 5.7, 5.1, 5.4, 5.1, 4.6, 5.1, 4.8, 5, 5, 5.2, 5.2, 4.7, 4.8, 5.4, 5.2, 5.5, 4.9, 5, 5.5, 4.9, 4.4, 5.1, 
        5, 4.5, 4.4, 5, 5.1, 4.8, 5.1, 4.6, 5.3, 5, 7, 6.4, 6.9, 5.5, 6.5, 5.7, 6.3, 4.9, 6.6, 5.2, 5, 5.9, 6, 6.1, 5.6, 
        6.7, 5.6, 5.8, 6.2, 5.6, 5.9, 6.1, 6.3, 6.1, 6.4, 6.6, 6.8, 6.7, 6, 5.7, 5.5, 5.5, 5.8, 6, 5.4, 6, 6.7, 6.3, 5.6, 
        5.5, 5.5, 6.1, 5.8, 5, 5.6, 5.7, 5.7, 6.2, 5.1, 5.7, 6.3, 5.8, 7.1, 6.3, 6.5, 7.6, 4.9, 7.3, 6.7, 7.2, 6.5, 6.4, 
        6.8, 5.7, 5.8, 6.4, 6.5, 7.7, 7.7, 6, 6.9, 5.6, 7.7, 6.3, 6.7, 7.2, 6.2, 6.1, 6.4, 7.2, 7.4, 7.9, 6.4, 6.3, 6.1, 
        7.7, 6.3, 6.4, 6, 6.9, 6.7, 6.9, 5.8, 6.8, 6.7, 6.7, 6.3, 6.5, 6.2, 5.9), Sepal.Width = c(3.5, 3, 3.2, 3.1, 3.6, 
        3.9, 3.4, 3.4, 2.9, 3.1, 3.7, 3.4, 3, 3, 4, 4.4, 3.9, 3.5, 3.8, 3.8, 3.4, 3.7, 3.6, 3.3, 3.4, 3, 3.4, 3.5, 3.4, 3.2, 
        3.1, 3.4, 4.1, 4.2, 3.1, 3.2, 3.5, 3.6, 3, 3.4, 3.5, 2.3, 3.2, 3.5, 3.8, 3, 3.8, 3.2, 3.7, 3.3, 3.2, 3.2, 3.1, 2.3, 
        2.8, 2.8, 3.3, 2.4, 2.9, 2.7, 2, 3, 2.2, 2.9, 2.9, 3.1, 3, 2.7, 2.2, 2.5, 3.2, 2.8, 2.5, 2.8, 2.9, 3, 2.8, 3, 2.9, 
        2.6, 2.4, 2.4, 2.7, 2.7, 3, 3.4, 3.1, 2.3, 3, 2.5, 2.6, 3, 2.6, 2.3, 2.7, 3, 2.9, 2.9, 2.5, 2.8, 3.3, 2.7, 3, 2.9, 
        3, 3, 2.5, 2.9, 2.5, 3.6, 3.2, 2.7, 3, 2.5, 2.8, 3.2, 3, 3.8, 2.6, 2.2, 3.2, 2.8, 2.8, 2.7, 3.3, 3.2, 2.8, 3, 2.8, 
        3, 2.8, 3.8, 2.8, 2.8, 2.6, 3, 3.4, 3.1, 3, 3.1, 3.1, 3.1, 2.7, 3.2, 3.3, 3, 2.5, 3, 3.4, 3), Petal.Length = c(1.4, 
        1.4, 1.3, 1.5, 1.4, 1.7, 1.4, 1.5, 1.4, 1.5, 1.5, 1.6, 1.4, 1.1, 1.2, 1.5, 1.3, 1.4, 1.7, 1.5, 1.7, 1.5, 1, 1.7, 
        1.9, 1.6, 1.6, 1.5, 1.4, 1.6, 1.6, 1.5, 1.5, 1.4, 1.5, 1.2, 1.3, 1.4, 1.3, 1.5, 1.3, 1.3, 1.3, 1.6, 1.9, 1.4, 1.6, 
        1.4, 1.5, 1.4, 4.7, 4.5, 4.9, 4, 4.6, 4.5, 4.7, 3.3, 4.6, 3.9, 3.5, 4.2, 4, 4.7, 3.6, 4.4, 4.5, 4.1, 4.5, 3.9, 4.8, 
        4, 4.9, 4.7, 4.3, 4.4, 4.8, 5, 4.5, 3.5, 3.8, 3.7, 3.9, 5.1, 4.5, 4.5, 4.7, 4.4, 4.1, 4, 4.4, 4.6, 4, 3.3, 4.2, 4.2, 
        4.2, 4.3, 3, 4.1, 6, 5.1, 5.9, 5.6, 5.8, 6.6, 4.5, 6.3, 5.8, 6.1, 5.1, 5.3, 5.5, 5, 5.1, 5.3, 5.5, 6.7, 6.9, 5, 5.7, 
        4.9, 6.7, 4.9, 5.7, 6, 4.8, 4.9, 5.6, 5.8, 6.1, 6.4, 5.6, 5.1, 5.6, 6.1, 5.6, 5.5, 4.8, 5.4, 5.6, 5.1, 5.1, 5.9, 
        5.7, 5.2, 5, 5.2, 5.4, 5.1), Petal.Width = c(0.2, 0.2, 0.2, 0.2, 0.2, 0.4, 0.3, 0.2, 0.2, 0.1, 0.2, 0.2, 0.1, 0.1, 
        0.2, 0.4, 0.4, 0.3, 0.3, 0.3, 0.2, 0.4, 0.2, 0.5, 0.2, 0.2, 0.4, 0.2, 0.2, 0.2, 0.2, 0.4, 0.1, 0.2, 0.2, 0.2, 0.2, 
        0.1, 0.2, 0.2, 0.3, 0.3, 0.2, 0.6, 0.4, 0.3, 0.2, 0.2, 0.2, 0.2, 1.4, 1.5, 1.5, 1.3, 1.5, 1.3, 1.6, 1, 1.3, 1.4, 
        1, 1.5, 1, 1.4, 1.3, 1.4, 1.5, 1, 1.5, 1.1, 1.8, 1.3, 1.5, 1.2, 1.3, 1.4, 1.4, 1.7, 1.5, 1, 1.1, 1, 1.2, 1.6, 1.5, 
        1.6, 1.5, 1.3, 1.3, 1.3, 1.2, 1.4, 1.2, 1, 1.3, 1.2, 1.3, 1.3, 1.1, 1.3, 2.5, 1.9, 2.1, 1.8, 2.2, 2.1, 1.7, 1.8, 
        1.8, 2.5, 2, 1.9, 2.1, 2, 2.4, 2.3, 1.8, 2.2, 2.3, 1.5, 2.3, 2, 2, 1.8, 2.1, 1.8, 1.8, 1.8, 2.1, 1.6, 1.9, 2, 2.2, 
        1.5, 1.4, 2.3, 2.4, 1.8, 1.8, 2.1, 2.4, 2.3, 1.9, 2.3, 2.5, 2.3, 1.9, 2, 2.3, 1.8), Species = structure(c(1L, 1L, 
        1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
        1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
        2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
        2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 
        3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 
        3L, 3L, 3L), .Label = c("setosa", "versicolor", "virginica"), class = "factor")), row.names = c(NA, -150L), class = "data.frame")
    xmis <- structure(list(Sepal.Length = c(5.1, 4.9, 4.7, 4.6, 5, NA, 4.6, NA, 4.4, 4.9, 5.4, 4.8, 4.8, 4.3, 5.8, 5.7, 5.4, 
        NA, 5.7, 5.1, 5.4, 5.1, 4.6, NA, 4.8, 5, NA, 5.2, 5.2, 4.7, 4.8, 5.4, 5.2, 5.5, 4.9, 5, 5.5, NA, 4.4, 5.1, NA, NA, 
        4.4, 5, 5.1, NA, NA, 4.6, 5.3, 5, 7, 6.4, 6.9, 5.5, 6.5, 5.7, NA, 4.9, 6.6, 5.2, NA, NA, NA, 6.1, 5.6, 6.7, NA, NA, 
        6.2, 5.6, 5.9, 6.1, NA, 6.1, 6.4, 6.6, 6.8, 6.7, 6, 5.7, 5.5, NA, 5.8, 6, 5.4, 6, 6.7, 6.3, 5.6, 5.5, 5.5, 6.1, NA, 
        5, 5.6, 5.7, 5.7, 6.2, NA, 5.7, 6.3, 5.8, 7.1, 6.3, NA, 7.6, 4.9, 7.3, 6.7, 7.2, 6.5, 6.4, NA, 5.7, 5.8, 6.4, NA, 
        7.7, 7.7, 6, 6.9, 5.6, 7.7, 6.3, 6.7, NA, NA, 6.1, NA, 7.2, 7.4, 7.9, 6.4, NA, 6.1, 7.7, 6.3, 6.4, 6, 6.9, 6.7, 6.9, 
        5.8, 6.8, 6.7, 6.7, NA, 6.5, 6.2, 5.9), Sepal.Width = c(3.5, NA, 3.2, NA, 3.6, 3.9, 3.4, 3.4, 2.9, 3.1, 3.7, 3.4, 
        3, 3, 4, 4.4, 3.9, 3.5, 3.8, 3.8, 3.4, NA, 3.6, 3.3, 3.4, 3, NA, 3.5, 3.4, 3.2, 3.1, 3.4, 4.1, 4.2, 3.1, NA, 3.5, 
        3.6, 3, 3.4, 3.5, 2.3, 3.2, 3.5, 3.8, 3, NA, 3.2, 3.7, 3.3, 3.2, 3.2, 3.1, NA, 2.8, 2.8, 3.3, NA, 2.9, 2.7, 2, 3, 
        2.2, 2.9, 2.9, 3.1, 3, NA, NA, 2.5, 3.2, 2.8, 2.5, NA, NA, 3, 2.8, 3, 2.9, NA, 2.4, 2.4, 2.7, 2.7, 3, NA, 3.1, 2.3, 
        3, 2.5, 2.6, 3, NA, 2.3, 2.7, 3, 2.9, 2.9, 2.5, 2.8, 3.3, 2.7, 3, NA, 3, NA, 2.5, 2.9, 2.5, NA, NA, 2.7, 3, 2.5, 
        2.8, 3.2, NA, NA, 2.6, 2.2, 3.2, 2.8, 2.8, NA, 3.3, 3.2, 2.8, 3, 2.8, 3, 2.8, 3.8, 2.8, 2.8, 2.6, 3, 3.4, NA, 3, 
        3.1, 3.1, NA, 2.7, NA, 3.3, NA, 2.5, NA, NA, NA), Petal.Length = c(1.4, 1.4, 1.3, NA, 1.4, 1.7, 1.4, 1.5, 1.4, 1.5, 
        NA, NA, 1.4, 1.1, 1.2, NA, 1.3, 1.4, 1.7, NA, NA, 1.5, NA, NA, 1.9, 1.6, 1.6, 1.5, NA, 1.6, 1.6, 1.5, 1.5, 1.4, NA, 
        1.2, 1.3, NA, 1.3, 1.5, 1.3, 1.3, NA, NA, NA, 1.4, 1.6, 1.4, 1.5, NA, 4.7, 4.5, 4.9, 4, 4.6, 4.5, 4.7, 3.3, NA, 3.9, 
        3.5, 4.2, 4, NA, NA, 4.4, 4.5, 4.1, 4.5, NA, 4.8, 4, NA, 4.7, NA, 4.4, NA, 5, 4.5, 3.5, 3.8, 3.7, 3.9, NA, 4.5, 4.5, 
        4.7, 4.4, 4.1, 4, 4.4, NA, 4, NA, 4.2, 4.2, 4.2, 4.3, 3, NA, 6, 5.1, NA, NA, 5.8, 6.6, 4.5, 6.3, 5.8, 6.1, 5.1, NA, 
        5.5, 5, 5.1, 5.3, 5.5, 6.7, 6.9, 5, 5.7, 4.9, 6.7, NA, 5.7, 6, 4.8, 4.9, NA, 5.8, 6.1, 6.4, 5.6, 5.1, 5.6, 6.1, 5.6, 
        5.5, 4.8, 5.4, 5.6, 5.1, 5.1, 5.9, 5.7, 5.2, 5, NA, 5.4, 5.1), Petal.Width = c(0.2, NA, 0.2, 0.2, 0.2, NA, 0.3, NA, 
        NA, 0.1, 0.2, 0.2, 0.1, 0.1, 0.2, 0.4, 0.4, 0.3, 0.3, 0.3, 0.2, NA, 0.2, NA, 0.2, 0.2, 0.4, 0.2, 0.2, 0.2, 0.2, NA, 
        NA, 0.2, 0.2, 0.2, 0.2, 0.1, 0.2, NA, 0.3, NA, 0.2, NA, 0.4, 0.3, 0.2, NA, 0.2, 0.2, 1.4, NA, NA, 1.3, 1.5, 1.3, 
        1.6, NA, 1.3, 1.4, 1, NA, 1, 1.4, NA, 1.4, 1.5, 1, NA, 1.1, 1.8, 1.3, 1.5, 1.2, 1.3, 1.4, 1.4, 1.7, 1.5, NA, 1.1, 
        NA, NA, NA, NA, 1.6, NA, 1.3, 1.3, 1.3, 1.2, 1.4, 1.2, 1, 1.3, 1.2, 1.3, 1.3, NA, 1.3, 2.5, 1.9, 2.1, NA, 2.2, 2.1, 
        NA, 1.8, 1.8, NA, 2, 1.9, 2.1, 2, 2.4, 2.3, NA, 2.2, 2.3, 1.5, NA, 2, 2, 1.8, 2.1, 1.8, 1.8, 1.8, 2.1, 1.6, 1.9, 
        2, NA, 1.5, 1.4, 2.3, 2.4, NA, 1.8, 2.1, 2.4, 2.3, NA, 2.3, 2.5, 2.3, 1.9, 2, 2.3, 1.8), Species = structure(c(1L, 
        NA, 1L, NA, 1L, 1L, 1L, 1L, 1L, 1L, 1L, NA, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, NA, 1L, 1L, 1L, NA, 1L, 1L, 1L, 
        1L, 1L, 1L, 1L, NA, 1L, NA, NA, NA, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, NA, 1L, 1L, 2L, 2L, 2L, 2L, NA, 2L, 2L, 2L, 2L, 
        2L, 2L, 2L, 2L, 2L, 2L, NA, 2L, 2L, 2L, 2L, 2L, NA, 2L, 2L, NA, 2L, NA, 2L, NA, NA, 2L, NA, NA, 2L, NA, NA, NA, 2L, 
        2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, NA, 3L, 3L, 3L, 3L, 3L, 3L, NA, 3L, 3L, 3L, 
        3L, NA, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, NA, 3L, 3L, 3L, 3L, 3L, NA, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 
        3L, NA, 3L, 3L), .Label = c("setosa", "versicolor", "virginica"), class = "factor")), row.names = c(NA, -150L), class = "data.frame")
    ximp <- structure(list(Sepal.Length = c(5.1, 4.9, 4.7, 4.6, 5, 5.381, 4.6, 5.2613501082251, 4.4, 4.9, 5.4, 4.8, 4.8, 
        4.3, 5.8, 5.7, 5.4, 4.9095761904762, 5.7, 5.1, 5.4, 5.1, 4.6, 4.85167867965368, 4.8, 5, 5.35292857142857, 5.2, 5.2, 
        4.7, 4.8, 5.4, 5.2, 5.5, 4.9, 5, 5.5, 4.82426677489178, 4.4, 5.1, 5.07174285714286, 4.63114285714286, 4.4, 5, 5.1, 
        4.68135119047619, 4.84712261904762, 4.6, 5.3, 5, 7, 6.4, 6.9, 5.5, 6.5, 5.7, 6.4949, 4.9, 6.6, 5.2, 5.10125, 5.70191666666667, 
        5.1725, 6.1, 5.6, 6.7, 6.21603333333334, 5.2485, 6.2, 5.6, 5.9, 6.1, 5.99866666666667, 6.1, 6.4, 6.6, 6.8, 6.7, 6, 
        5.7, 5.5, 5.4489, 5.8, 6, 5.4, 6, 6.7, 6.3, 5.6, 5.5, 5.5, 6.1, 5.7616, 5, 5.6, 5.7, 5.7, 6.2, 5.42325, 5.7, 6.3, 
        5.8, 7.1, 6.3, 6.98541666666667, 7.6, 4.9, 7.3, 6.7, 7.2, 6.5, 6.4, 6.61366666666667, 5.7, 5.8, 6.4, 6.399, 7.7, 
        7.7, 6, 6.9, 5.6, 7.7, 6.3, 6.7, 6.77433333333333, 6.03816666666667, 6.1, 6.34475, 7.2, 7.4, 7.9, 6.4, 6.2555, 6.1, 
        7.7, 6.3, 6.4, 6, 6.9, 6.7, 6.9, 5.8, 6.8, 6.7, 6.7, 5.8044, 6.5, 6.2, 5.9), Sepal.Width = c(3.5, 3.37475, 3.2, 3.29313235294117, 
        3.6, 3.9, 3.4, 3.4, 2.9, 3.1, 3.7, 3.4, 3, 3, 4, 4.4, 3.9, 3.5, 3.8, 3.8, 3.4, 3.42705, 3.6, 3.3, 3.4, 3, 3.93716666666666, 
        3.5, 3.4, 3.2, 3.1, 3.4, 4.1, 4.2, 3.1, 3.41257352941177, 3.5, 3.6, 3, 3.4, 3.5, 2.3, 3.2, 3.5, 3.8, 3, 3.17897679738562, 
        3.2, 3.7, 3.3, 3.2, 3.2, 3.1, 2.56283333333333, 2.8, 2.8, 3.3, 2.18483333333333, 2.9, 2.7, 2, 3, 2.2, 2.9, 2.9, 3.1, 
        3, 2.42208333333333, 2.98644761904762, 2.5, 3.2, 2.8, 2.5, 2.90088095238095, 2.91037564102564, 3, 2.8, 3, 2.9, 2.64033333333333, 
        2.4, 2.4, 2.7, 2.7, 3, 2.89574761904762, 3.1, 2.3, 3, 2.5, 2.6, 3, 2.71133333333333, 2.3, 2.7, 3, 2.9, 2.9, 2.5, 
        2.8, 3.3, 2.7, 3, 2.77266666666667, 3, 2.90433333333334, 2.5, 2.9, 2.5, 2.91733333333333, 2.90466666666667, 2.7, 
        3, 2.5, 2.8, 3.2, 2.87933333333333, 2.864, 2.6, 2.2, 3.2, 2.8, 2.8, 2.79, 3.3, 3.2, 2.8, 3, 2.8, 3, 2.8, 3.8, 2.8, 
        2.8, 2.6, 3, 3.4, 2.84908333333333, 3, 3.1, 3.1, 3.07933333333333, 2.7, 3.05583333333333, 3.3, 3.116, 2.5, 2.91466666666667, 
        3.031, 2.7405), Petal.Length = c(1.4, 1.4, 1.3, 1.41579841269841, 1.4, 1.7, 1.4, 1.5, 1.4, 1.5, 1.44390555555556, 
        1.70253174603175, 1.4, 1.1, 1.2, 1.494, 1.3, 1.4, 1.7, 1.4899, 1.50827222222222, 1.5, 1.44173888888889, 1.54688571428571, 
        1.9, 1.6, 1.6, 1.5, 1.53273888888889, 1.6, 1.6, 1.5, 1.5, 1.4, 1.54272222222222, 1.2, 1.3, 1.50224444444445, 1.3, 
        1.5, 1.3, 1.3, 1.39368174603175, 1.36407142857143, 1.5152, 1.4, 1.6, 1.4, 1.5, 1.49883888888889, 4.7, 4.5, 4.9, 4, 
        4.6, 4.5, 4.7, 3.3, 4.39953333333333, 3.9, 3.5, 4.2, 4, 4.41720833333333, 4.2808, 4.4, 4.5, 4.1, 4.5, 3.60166666666667, 
        4.8, 4, 4.439, 4.7, 4.4332, 4.4, 4.46833333333333, 5, 4.5, 3.5, 3.8, 3.7, 3.9, 4.15949166666667, 4.5, 4.5, 4.7, 4.4, 
        4.1, 4, 4.4, 4.4423, 4, 3.80293333333333, 4.2, 4.2, 4.2, 4.3, 3, 4.33620833333333, 6, 5.1, 5.851, 5.32570000000001, 
        5.8, 6.6, 4.5, 6.3, 5.8, 6.1, 5.1, 5.43083333333334, 5.5, 5, 5.1, 5.3, 5.5, 6.7, 6.9, 5, 5.7, 4.9, 6.7, 5.24745000000001, 
        5.7, 6, 4.8, 4.9, 5.4415, 5.8, 6.1, 6.4, 5.6, 5.1, 5.6, 6.1, 5.6, 5.5, 4.8, 5.4, 5.6, 5.1, 5.1, 5.9, 5.7, 5.2, 5, 
        5.22700000000001, 5.4, 5.1), Petal.Width = c(0.2, 0.2159, 0.2, 0.2, 0.2, 0.363166666666666, 0.3, 0.201, 0.251266666666667, 
        0.1, 0.2, 0.2, 0.1, 0.1, 0.2, 0.4, 0.4, 0.3, 0.3, 0.3, 0.2, 0.204, 0.2, 0.183, 0.2, 0.2, 0.4, 0.2, 0.2, 0.2, 0.2, 
        0.202, 0.3335, 0.2, 0.2, 0.2, 0.2, 0.1, 0.2, 0.204, 0.3, 0.27055, 0.2, 0.230935714285714, 0.4, 0.3, 0.2, 0.2365, 
        0.2, 0.2, 1.4, 1.48033333333333, 1.74425, 1.3, 1.5, 1.3, 1.6, 1.017, 1.3, 1.4, 1, 1.25154761904762, 1, 1.4, 1.3035, 
        1.4, 1.5, 1, 1.45325, 1.1, 1.8, 1.3, 1.5, 1.2, 1.3, 1.4, 1.4, 1.7, 1.5, 1.17624761904762, 1.1, 1.0838, 1.2832, 1.3497, 
        1.29151666666667, 1.6, 1.45075, 1.3, 1.3, 1.3, 1.2, 1.4, 1.2, 1, 1.3, 1.2, 1.3, 1.3, 1.15446666666667, 1.3, 2.5, 
        1.9, 2.1, 1.877, 2.2, 2.1, 1.224, 1.8, 1.8, 1.898, 2, 1.9, 2.1, 2, 2.4, 2.3, 2.034, 2.2, 2.3, 1.5, 2.13433333333333, 
        2, 2, 1.8, 2.1, 1.8, 1.8, 1.8, 2.1, 1.6, 1.9, 2, 1.9885, 1.5, 1.4, 2.3, 2.4, 2.03933333333333, 1.8, 2.1, 2.4, 2.3, 
        1.96605, 2.3, 2.5, 2.3, 1.9, 2, 2.3, 1.8), Species = structure(c(1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
        1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 
        1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 1L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
        2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 2L, 
        2L, 3L, 3L, 3L, 3L, 3L, 3L, 2L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 
        3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L, 3L), .Label = c("setosa", "versicolor", 
        "virginica"), class = "factor")), row.names = c(NA, -150L), class = "data.frame")
    t.ind <- 1:4
    expect_equal(missForest:::nrmse(ximp = ximp[, t.ind], xmis = xmis[, t.ind], xtrue = xtrue[, t.ind]), 0.157303509815982)
})
