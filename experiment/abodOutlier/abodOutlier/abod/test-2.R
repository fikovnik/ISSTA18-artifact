library(testthat)

.Random.seed <<- .ext.seed

test_that("abod", {
    faithful <- datasets::faithful
    expect_equal(abodOutlier:::abod(data = faithful, method = "randomized", n_sample_size = 5), c(0.0175680030173069, 1.00237607001261, 
        0.95488345917626, 1.00158754509966, 0.963353833214931, 1.00696474296949, 1.79936564578013e-07, 5.94621184873308e-06, 
        1.03554013601409e-05, 4.41137690539772e-05, 1.08642214013834, 0.911131587418925, 0.611680727875396, 2.35282603255946e-06, 
        0.758339959469326, 8.70636865052795e-05, 0.990886998294777, 7.63190576055283e-05, 0.000126478392970164, 0.27795014481007, 
        1.00246654217015, 4.85717909346137e-07, 0.498199553342623, 0.987058643834674, 0.79116108504485, 7.67343201981154e-05, 
        1.00736248989459, 0.99917106409533, 0.985278911449158, 0.870500063548532, 0.767326179688112, 0.984864537754417, 1.00590970274876, 
        0.958132043512885, 1.00793342223868, 2.45050591930238e-07, 2.08418535661459e-06, 6.15641711299459e-06, 1.00329331440999, 
        2.107601698205e-07, 1.00067057975985, 0.553353753839379, 4.73993938948292e-06, 0.989998828030764, 0.595806937300616, 
        0.974866747994258, 0.966664808707249, 0.271391580429971, 2.47732691729142e-07, 0.996591814449889, 0.992784992814033, 
        1.00858050329934, 1.00717523063843, 0.997904493748234, 1.00101018482285, 0.909913950876037, 0.99713330827702, 0.593449561043633, 
        1.00104119257948, 1.00577119962585, 0.990373703208646, 0.269293573811718, 1.00393339069626, 1.04212931978755, 0.996047269906824, 
        2.90579798407972e-07, 0.887517233120921, 0.96698403482644, 0.983416788128587, 0.981589443880687, 0.931173772799137, 
        1.00511201391061, 0.983659310850864, 1.0009753898076, 1.76275552678893e-06, 0.963179622140525, 0.998918606200296, 
        0.59809551686312, 1.00864942181596, 0.854010722375795, 0.997733511941638, 0.993483010135198, 0.985052658698677, 0.984402239219828, 
        1.00873280416637, 0.951842523047917, 0.961247198725099, 1.00604145501729, 3.60210805523109e-08, 3.93674237434244e-06, 
        1.00629237189313, 1.9441077166896e-06, 1.00878501173489, 0.907016324510452, 1.05941401754047, 0.696611562395786, 
        1.95652508750371e-05, 0.964543600576387, 1.00615296995675, 1.06746457302492e-06, 1.00768995342894, 0.947148347761795, 
        0.615660293566418, 1.00159687598372, 0.25705487477856, 1.01002694425729, 0.95546037458716, 5.78226189642124e-06, 
        2.64031306227249e-05, 0.918215863213274, 0.953818416409032, 3.83923094281398e-05, 2.77249051840071e-06, 0.276417056228652, 
        0.996015305367566, 0.945192603767596, 1.99589292459741e-08, 1.23919245767192e-06, 5.51652215024716e-08, 3.42372988860333e-06, 
        0.26399103903485, 0.999620688822114, 0.989070032993443, 0.995130907404699, 4.95451114796648e-07, 0.55310984258974, 
        3.48470550026948e-05, 0.949075866832724, 2.40361884503462e-07, 2.7511349254823e-09, 4.73153962875425e-06, 0.00133048315330647, 
        9.82920104224428e-05, 2.97772539587617e-06, 7.01957476892646e-08, 1.02594057694056e-06, 0.995774395820461, 2.57868792114577e-06, 
        0.00033039535593797, 0.953203820467844, 8.4088000343803e-05, 6.96528333383709e-07, 0.00130209195675951, 0.935141776455453, 
        0.9356251263413, 0.303195772827989, 0.550552909037158, 1.83888080128687e-06, 3.5671873456003e-07, 1.0062907329941, 
        0.679107970267779, 0.990383940928893, 1.01014225459428, 3.03383431692182e-05, 1.0084171967958, 0.979666538193336, 
        1.00880540894961, 3.38770160017322e-07, 0.0018237183883699, 0.709794549517245, 8.5039927436701e-08, 3.1015627942466e-05, 
        0.631192920761604, 1.00388099645568, 1.010108816871, 0.996266735190497, 1.00941650478614, 1.52394180409192e-06, 2.71790662762818e-06, 
        1.1262900060619e-05, 4.80388908798512e-07, 1.00130797518374, 0.966578237693756, 0.996194649234725, 1.00402131931497, 
        0.998902773635319, 0.902319221586268, 0.000118098471936295, 0.000523233451115046, 0.994721376397354, 0.632590273670025, 
        0.566734349188606, 0.99178895564901, 0.00145569567011663, 1.70977770037441e-06, 1.00230365795016, 0.542136010407052, 
        2.61241683282367e-07, 0.998456832646044, 0.983454732723026, 0.198647625793333, 0.986414071097212, 0.599492645859363, 
        1.00333383985575, 0.997610258783192, 0.999410504624959, 6.8645386829977e-06, 1.0066478502235, 0.952726271829806, 
        1.00353097586787, 1.0067588692182, 0.587279138675296, 7.00012230070537e-06, 1.16978189764992e-07, 0.995227860349859, 
        0.99157100772671, 0.977087262072714, 1.00968687264504, 1.56337220775557e-08, 0.991692556716858, 0.0873083924038599, 
        0.907241041915878, 1.01032752165218, 1.008164852235, 0.971718609686094, 1.00586860057216, 0.967872075466902, 9.44924037966034e-08, 
        1.00328811075254, 0.561290636097451, 3.16507759778984e-06, 1.00811623084621, 0.993990718158333, 1.00140890232356, 
        0.594763993334615, 0.000195400113163526, 1.00078804942718, 1.00669332333422, 0.972831801547734, 0.595491404318691, 
        0.983647599288236, 0.989409518025846, 0.260018893156317, 0.00183578788214953, 2.22507048594257e-07, 1.00211622424388, 
        1.00532860843991, 0.999878903992927, 0.969865358730829, 2.88779847800482e-05, 0.996677399317925, 1.60875564176258e-06, 
        6.66837656910307e-06, 1.00592705867125, 0.908837194612005, 0.922602859678323, 1.00599205335028, 0.61937436052206, 
        0.923426498155345, 0.940225653878297, 0.919694859402653, 0.853397479492404, 1.00848193963383, 0.970722376540675, 
        0.000251300565564232, 0.560289954879457, 1.00007988810079, 0.554908768818462, 3.64632006146124e-07, 1.00683050482395, 
        0.979482896473156, 0.228946722398829, 1.00606602343284, 0.990321167576647, 1.58606624747744e-06, 1.00430865320751, 
        0.952729709174634, 0.988540143441669, 1.06935204982133e-07, 0.215742335058335, 7.86379148588575e-08, 1.00014080934884))
})
