library(testthat)

.Random.seed <<- .ext.seed

test_that("abod", {
    faithful <- datasets::faithful
    expect_equal(abodOutlier:::abod(data = faithful, method = "knn", k = 5), c(1.14050028881846e-09, 1.76767762805457e-09, 
        2.15878752090631e-09, 4.35000834218924e-09, 6.56111437384639e-10, 2.39410251984927e-09, 4.88044733948257e-10, 5.63972472288505e-10, 
        1.39241185586683e-09, 6.3719038791437e-10, 1.77717205483367e-09, 6.63432757875453e-10, 1.46129608162694e-09, 9.75030857634607e-10, 
        8.48069031582695e-10, 1.5757464561366e-09, 3.97270444400329e-09, 7.66966672126336e-10, 1.43476926570347e-09, 1.2905899964096e-09, 
        1.35854256605745e-09, 9.75030857634607e-10, 1.26103064993864e-09, 1.01029113103683, 2.81267084207576e-09, 7.03681719706315e-10, 
        1.99314955492017e-09, 1.88982637256733e-09, 1.36503288530361e-09, 1.3354123155371e-09, 3.14149246946205e-09, 1.76850593201159e-09, 
        9.43391494936718e-09, 1.0895055893706e-09, 2.41559172885177e-09, 1.53456052133157e-09, 1.0741459943847e-09, 1.25913851184984e-09, 
        2.89294806236335e-09, 4.03679586323515e-10, 1.15454596228132e-09, 2.63108495279724e-09, 7.38541826343408e-10, 2.57574484736295e-09, 
        3.30764448795901e-09, 6.69816841525149e-10, 8.47385001438649e-09, 1.70016726722853e-09, 9.45473400654058e-10, 2.9746375175439e-09, 
        2.54197272180238e-09, 3.99863996743624e-10, 1.77717205483367e-09, 1.25913851184984e-09, 1.74892410063666e-09, 8.74097472964036e-10, 
        3.83640509554712e-09, 4.99874315726129e-09, 1.80339248868027e-09, 1.01188371844936e-09, 3.10473648723975e-09, 7.30515683626366e-10, 
        1.05445736147026e-09, 9.72664127174697e-10, 3.20915721505798e-09, 3.16001263071337e-10, 1.45200810999249e-09, 1.60746398869483e-09, 
        6.00449161805129e-09, 3.43049590304317e-09, 8.52436628246796e-10, 2.19104021675784e-09, 1.35210745636156e-09, 4.11180867080912e-09, 
        4.11826169234515e-09, 2.30147589495034e-09, 3.31689807640305e-09, 1.56758347859649e-09, 1.81325980104919e-09, 7.03681719706315e-10, 
        2.21346029030906e-09, 8.98048828228351e-10, 1.00923317339319, 6.7299382156304e-09, 2.98144385658071e-09, 5.05104260232446e-10, 
        1.83864500124505e-09, 1.1899559430621e-09, 1.12932480866451e-09, 5.40631564664087e-10, 3.42959502246163e-09, 3.78576081499136e-10, 
        1.26305305054217e-09, 1.64314835527168e-09, 4.522463765159e-09, 3.71277719549217e-09, 7.50643572607582e-10, 2.03955559090295e-09, 
        1.37337158104111e-09, 9.89218000235117e-10, 4.53500236093885e-09, 4.6442236840316e-10, 1.20993642830886e-09, 8.20283605387293e-10, 
        9.64854139834751e-10, 9.93108742866351e-10, 7.54669382307536e-10, 1.47599033300626e-09, 6.17477121569831e-10, 9.02954117832517e-10, 
        2.50749145224233e-09, 3.14581441082761e-09, 4.53624619683139e-10, 1.33144802835863e-09, 2.83437376482555e-09, 1.06974100009765e-09, 
        1.36556566838752e-09, 6.63143610641855e-10, 2.88560396534528e-09, 5.19056251948091e-10, 1.87780832021326e-09, 1.0089190354033, 
        1.6945035018429e-09, 2.19104021675784e-09, 4.80857418065581e-10, 9.16843773643493e-10, 8.59698625542598e-10, 9.24223798153588e-10, 
        2.10483990052007e-09, 3.96132107693805e-10, 8.52949285270056e-10, 7.75542579094419e-10, 2.58789327220689e-09, 4.17726817845261e-10, 
        9.14749397156701e-10, 9.05826601473895e-10, 1.37698388734191e-09, 6.25397991091115e-10, 1.68017864822419e-09, 1.17006382723563e-09, 
        9.96905367582394e-10, 3.45142581883343e-09, 9.2946280860253e-10, 1.89278061972702e-09, 1.98888964519694e-09, 2.96589336467266e-09, 
        1.21502011954502e-09, 1.19294694565933e-09, 2.41874937802895e-10, 1.61569838609653e-09, 1.97251542741124e-09, 1.61212076204439e-09, 
        6.38908163659757e-09, 1.06358698459797e-09, 3.6961239479946e-09, 1.00958879068437, 1.04509814828461e-09, 2.76130030797822e-10, 
        1.61569838609653e-09, 3.95737928056056e-10, 9.00417740216771e-10, 5.53631497616324e-10, 2.68390741750122e-09, 1.36048298807646e-09, 
        9.86215396877233e-09, 2.09170505066075e-09, 4.9695923636646e-09, 5.10091171974552e-10, 1.51275537129801e-09, 2.96797304929228e-10, 
        1.1732698060143e-09, 2.46475470258833e-09, 1.80902034843294e-09, 1.01030825245108, 9.85254376539011e-10, 1.01475579672823e-09, 
        3.283740486747e-09, 1.39117366957012e-09, 6.02162096971357e-10, 2.59953768494931e-09, 1.96498902616786e-09, 1.80902034843294e-09, 
        7.86517166248869e-10, 7.24287156303727e-10, 1.41220874162864e-09, 1.52813726867896e-09, 6.82032840814513e-10, 9.14749397156701e-10, 
        8.08954536986321e-10, 2.07176394432685e-09, 1.10128599385744e-09, 2.36121825200425e-09, 2.18400443220338e-09, 6.83960060139788e-10, 
        1.60115312572809e-09, 9.96905367582394e-10, 4.50102019677103e-10, 1.73377306529283e-09, 1.46766080071577e-09, 1.59750101248576e-09, 
        3.36628309476701e-09, 9.00687617530189e-10, 3.34319443944917e-10, 1.63345631090553e-09, 1.57741085630737e-09, 9.07650304035014e-10, 
        1.73411448308983e-09, 6.56037473996673e-10, 1.17636074970519e-09, 8.20283605387293e-10, 1.00627204710888, 1.22967212423075e-09, 
        1.16374983829353e-09, 2.07633902345878e-09, 7.38792542582593e-09, 1.94881536378713e-09, 1.79803800389873e-09, 2.77727872951134e-10, 
        2.00457547416077e-09, 1.91600863063274e-09, 1.26305305054217e-09, 8.87859254506222e-10, 1.75361664394964e-09, 2.38175628774695e-09, 
        1.40568258474612e-09, 1.25872613331946e-09, 1.42856547032522e-09, 1.48028973318766e-09, 1.009836774681, 1.36466623285717e-09, 
        1.00929800716483, 1.97525472861228e-09, 5.56523502396107e-10, 1.3410147393181e-09, 3.84984954103771e-10, 1.79188631454031e-09, 
        1.78213024361153e-09, 1.70560747766632e-09, 1.21956073902604e-09, 5.56508382858022e-09, 2.22142697908765e-09, 1.07751776070184e-09, 
        6.25397991091115e-10, 5.63176833887529e-09, 6.61353997716438e-10, 8.23026002530879e-10, 2.46475470258833e-09, 9.03332230792311e-10, 
        7.91622431766479e-09, 2.70458667382457e-09, 1.89475505277678e-09, 8.13444717070915e-10, 2.65842677986547e-09, 3.283740486747e-09, 
        4.49505505530759e-10, 1.04680684348459e-09, 4.02957551933363e-09, 8.13444717070915e-10, 2.20362487601232e-09, 1.29858871817753e-09, 
        1.62782967013591e-09, 7.3446064312448e-10, 2.61689484472392e-09, 7.86517166248869e-10, 7.50320935198235e-10, 3.46285682682169e-09, 
        2.51620902996884e-09, 9.76496673424045e-10, 9.63193641977334e-10, 3.83168957948471e-10, 9.12462015825028e-10, 2.77333917607193e-09))
})
