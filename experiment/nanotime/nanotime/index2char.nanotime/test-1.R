library(testthat)

.Random.seed <<- .ext.seed

test_that("index2char.nanotime", {
    x <- structure(c(101.370958447147, 100.806260275751, 101.169388687088, 101.802251292049, 102.20651961519, 102.100395099098, 
        103.611917096537, 103.517258058124, 105.535681772001, 105.472967672949, 101.304869654223, 103.591515046925, 102.202654345812, 
        101.923865578995, 101.790544242601, 102.426494640671, 102.142241719255, 99.4857862983504, 97.0453193697749, 98.3654327155051), 
        .Dim = c(10L, 2L), .Dimnames = list(NULL, c("x", "y")), index = .ext.1, class = "zoo")
    index <- zoo::index
    expect_equal(nanotime:::index2char.nanotime(x = index(x), frequency = attr(x, "frequency")), c("2018-05-08T17:17:12.172931000+00:00", 
        "2018-05-08T17:17:12.172931011+00:00", "2018-05-08T17:17:12.172931022+00:00", "2018-05-08T17:17:12.172931033+00:00", 
        "2018-05-08T17:17:12.172931044+00:00", "2018-05-08T17:17:12.172931055+00:00", "2018-05-08T17:17:12.172931066+00:00", 
        "2018-05-08T17:17:12.172931077+00:00", "2018-05-08T17:17:12.172931088+00:00", "2018-05-08T17:17:12.172931099+00:00"))
})
